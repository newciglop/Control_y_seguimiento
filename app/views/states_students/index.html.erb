<% if current_user.role_id == User.ADMINISTRATOR  || current_user.role_id == User.EDITOR %>
<div class="row">
  <div class="col-md-10 offset-md-1  text-center">
    <h2 class="my-4"><%= t('states_students.states_students') %></h2>
  </div>
</div>
<div class="row">
  <div class="offset-sm-1 col-sm-10">
    <div class="table-responsive">
      <table class="table table-striped">
        <thead>
        <tr class="text-center">
          <th scope="col">#</th>
          <th scope="col">Nombres</th>
          <th scope="col" class="text-center">Color</th>
          <th scope="col">Estado</th>
          <th colspan="2"></th>
        </tr>
        </thead>

        <tbody>
        <% @states_students.each_with_index  do |state_student, index | %>

          <tr class="text-center">
            <td> <%= index + 1  %></td>
            <td><%= state_student.name %> </td>
            <td class="text-center"> <div style="position:relative; margin: auto;  width: 40px; height: 20px;background-color: <%= state_student.color %>"></div></td>
            <td>
              <% if  state_student.enable %>
                Habilitado
              <% else %>
                Deshabilitado
              <% end %>

            </td>
            <td>
              <% if current_user.role_id == User.ADMINISTRATOR  || current_user.role_id == User.EDITOR %>
                  <%= link_to  edit_states_student_path(state_student) do %>
                     <%= @show_edit %>
                  <% end %>
               <% end %>
              <% if current_user.role_id == User.ADMINISTRATOR  %>
                   <%= link_to  state_student, method: :delete, data: { confirm: 'Â¿Esta seguro que desea eliminarlo?' } do %>
                   <%= @show_trash %>
                   <% end %>
                <% end %>
            </td>
          </tr>
        <% end %>
        </tbody>
      </table>

      <br>
    </div>
  </div>

  <div class="will_paginate">
    <%= will_paginate(@states_students, :renderer => WillPaginate::ActionView::LinkRenderer) %>
  </div>

</div>
<div class="row justify-content-center">
  <div class="col-lg-12 d-flex justify-content-center">
    <%= link_to "Nuevo #{t('states_students.states_students')}", new_states_student_path , class: "btn btn-primary mr-2" %>
  </div>



</div>

<%= render "layouts/views_partials/button" %>
<% else %>
  <% route = "states_students" %>
  <%= render "layouts/views_partials/not_found", route: route %>
<% end %>