
<div class="row">
  <div class="offset-sm-2 col-sm-8">
    <div class="card card-margin">

      <%= bootstrap_form_with(model: admin_control, local: true,html: { class: "forms-sample needs-validation", novalidate: true }) do |form|  %>
        <div class="card-body p-0">
          <% if admin_control.errors.any? %>
            <div id="error_explanation" style="display: none">
              <h2><%= pluralize(admin_control.errors.count, "error") %> prohibited this admin_control from being saved:</h2>

              <ul>
                <% admin_control.errors.full_messages.each do |message| %>
                  <li><%= message %></li>
                <% end %>
              </ul>
            </div>
          <% end %>

          <div id="accordion">


            <div class="card">
              <div class="card-header" id="headingOne">
                <h5 class="mb-0" data-toggle="collapse" data-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                  <a class="btn btn-link" data-toggle="collapse" data-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                    Datos Personales
                  </a>
                </h5>
              </div>

              <div id="collapseOne" class="collapse show" aria-labelledby="headingOne" data-parent="#accordion">
                <div class="card-body">

                  <div class="row no-gutters">

                    <div class="col-lg-4 pr-2">
                      <div class="form-group">
                        <% if admin_control.id? %>
                          <%= form.text_field :code,label:t('admin_control.code') ,class: "form-control"   %>
                        <% else %>
                          <%= form.text_field :code, label:t('admin_control.code'),class: "form-control" , value: @suggest_code.to_i  %>
                        <% end %>
                      </div>
                    </div>

                    <div class="col-lg-8">
                      <div class="form-group">
                        <%= form.select(:concept_id, options_for_select(@concepts, admin_control.concept_id), {label: t('admin_control.concept'),:prompt => 'Selecciona un concepto'},{class: "form-control " ,required:true }) %>
                      </div>
                    </div>

                  </div>

                  <div class="row no-gutters">
                    <div class="col-lg-6 pr-2">
                      <div class="form-group">
                        <%= form.select(:theme_id, options_for_select(@themes, admin_control.theme_id), {label:t('admin_control.theme'),:prompt => 'Selecciona un asunto'},{class: "form-control " }) %>
                      </div>
                    </div>
                    <div class="col-lg-6">
                      <div class="form-group">
                        <%= form.select(:type_id, options_for_select(@types, admin_control.type_id), {label:t('admin_control.type'),:prompt => 'Selecciona un tipo'},{class: "form-control " }) %>
                      </div>
                    </div>
                  </div>

                  <div class="row no-gutters">
                    <div class="col-lg-12">
                      <div class="form-group">
                           <%= form.select(:item_id, options_for_select(@items, admin_control.item_id), {:prompt => 'Selecciona un asunto'},{class: "form-control " }) %>
                      </div>
                    </div>
                  </div>

                  <div class="row no-gutters">
                    <div class="col-lg-6 pr-2">
                      <div class="form-group">
                        <%= form.text_field :start_date ,{ label:t('admin_control.start_date'),class: 'datepicker form-control' , placeholder: "yyyy-mm-dd"} %>
                      </div>
                    </div>


                    <div class="col-lg-6">
                      <div class="form-group">
                        <%= form.text_field :final_date, { label: t('admin_control.finish_date'), class: 'datepicker form-control' , placeholder: "yyyy-mm-dd"} %>
                      </div>
                    </div>
                  </div>

                  <div class="row no-gutters">
                    <div class="col-lg-6">
                      <div class="form-group">
                        <%= form.select(:tracking_type, options_for_select(@tracking_types, admin_control.tracking_type), {label:t('admin_control.tracking_type'),:prompt => 'Selecciona un tipo'},{class: "form-control " }) %>
                      </div>
                    </div>
                    <div class="col-lg-6">
                      <div class="form-group">
                        <%= form.select(:state, options_for_select(@states, admin_control.state), {label:t('admin_control.state'),:prompt => 'Selecciona un Estado'},{class: "form-control " }) %>
                      </div>
                    </div>

                  </div>


                </div>
              </div>
            </div>



            <div class="card">
              <div class="card-header" id="headingTwo">
                <h5 class="mb-0" data-toggle="collapse" data-target="#collapseTwo" aria-expanded="true" aria-controls="collapseTwo">
                  <a class="btn btn-link" data-toggle="collapse" data-target="#collapseTwo" aria-expanded="true" aria-controls="collapseTwo">
                   Entidad y localidad
                  </a>
                </h5>
              </div>

              <div id="collapseTwo" class="collapse show" aria-labelledby="headingTwo" data-parent="#accordion">
                <div class="card-body">
                  <div class="row no-gutters">
                    <div class="col-lg-6">
                      <div class="form-group">
                                           <%= form.select(:company_id, options_for_select(@companies, admin_control.company_id), {label:t('admin_control.company'),:prompt => 'Selecciona un Perfil'},{class: "form-control " }) %>
                      </div>
                    </div>
                    <div class="col-lg-6">
                      <div class="form-group">
                                     <%= form.select(:city_id, options_for_select(@cities, admin_control.city_id), {label:t('admin_control.location'),:prompt => 'Selecciona un Perfil'},{class: "form-control " }) %>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="card">
              <div class="card-header" id="headingFive">
                <h5 class="mb-0" data-toggle="collapse" data-target="#collapseFive" aria-expanded="true" aria-controls="collapseFive">
                  <a class="btn btn-link" data-toggle="collapse" data-target="#collapseOne" aria-expanded="true" aria-controls="collapseFive">
                    Rol Responsable y Personal a Cargo
                  </a>
                </h5>
              </div>

              <div id="collapseFive" class="collapse show" aria-labelledby="headingFive" data-parent="#accordion">
                <div class="card-body">
                  <div class="row no-gutters">
                    <div class="col-lg-4">
                      <div class="form-group">
                        <%= form.label :responsible_function_id, "Rol de Responsable" %>
                        <%= form.select(:responsible_function_id, options_for_select(@responsible_functions, admin_control.responsible_function_id), {:prompt => 'Selecciona un tipo'},{class: "form-control " }) %>
                      </div>
                    </div>
                    <div class="col-lg-4">
                      <div class="form-group">
                        <%= form.label :responsible, "responsable" %>
                        <%= form.select(:responsible, options_for_select(@worker_responsible, admin_control.responsible), {:prompt => 'Selecciona un Responsable'},{class: "form-control " }) %>
                      </div>
                    </div>
                    <div class="col-lg-4">
                      <div class="form-group">
                        <%= form.label :support, "Apoyo" %>
                        <%= form.select(:support, options_for_select(@worker_support, admin_control.support), {:prompt => 'Selecciona un apoyo'},{class: "form-control " }) %>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>


              <div class="card">
                <div class="card-header" id="headingThree">
                  <h5 class="mb-0" data-toggle="collapse" data-target="#collapseThree" aria-expanded="true" aria-controls="collapseThree">
                    <a class="btn btn-link" data-toggle="collapse" data-target="#collapseThree" aria-expanded="true" aria-controls="collapseThree">
                      Estado
                    </a>
                  </h5>
                </div>

                <div id="collapseThree" class="collapse show" aria-labelledby="headingThree" data-parent="#accordion">
                  <div class="card-body">


                    <div class="row no-gutters">
                      <div class="col-lg-6">
                        <%= form.label :advance %>
                        <%= form.range_field :advance, {class: "form-control" , max:100 }%>
                      </div>

                      <div class="col-lg-6">
                        <%= form.label :process %>
                        <%= form.text_field :process, {class: "form-control" }%>
                      </div>

                      <div class="col-lg-12">
                        <%= form.label :description_advance , "Descripcion de los avances del proceso o servicio" %>
                        <%= form.rich_text_area :description_advance %>
                      </div>


                      <div class="col-lg-12">

                        <%= form.text_field :link_drive, label:t('admin_control.link_drive'),class: "form-control" %>
                      </div>

                    </div>



                  </div>
                </div>
              </div>




















          </div><!-- accordion -->



        </div>

        <div class="card-footer bg-white">
          <button type="submit" class="btn btn-primary mr-2 btn-action">Guardar</button>
          <%= link_to 'Regresar', admin_controls_path ,class: "btn btn-light btn-action"  %>
        </div>
      <% end %>

    </div>
  </div>
  <div class="offset-sm-2"></div>
</div>










